{"version":3,"file":"script.min.js","sources":["script.js"],"sourcesContent":["const getBetterLocation = async () => {\r\n  const response = await fetch(\"http://ip-api.com/json/\");\r\n\r\n  if (response.ok) {\r\n    const location = await response.json();\r\n\r\n    return location.lat + \",\" + location.lon;\r\n  }\r\n}\r\n\r\nconst getWetherData = async () => {\r\n  if(!document.querySelector(\".mainWidget\")){\r\n    return;\r\n  }\r\n  const locationString = await getBetterLocation();\r\n  const response = await fetch(`http://api.weatherapi.com/v1/current.json?key=44877cb0280f41d1a84130248241604&q=${locationString}&aqi=no`);\r\n\r\n  if (response.ok) {\r\n    const json = await response.json();\r\n    console.log(json);\r\n    displayWeatherWidget(json.current, json.location);\r\n  };\r\n}\r\n\r\nconst displayWeatherWidget = (weather, location) => {\r\n  const weatherWidget = document.querySelector(\".mainWidget\");\r\n  const loader = document.querySelector(\".loader\");\r\n\r\n  weatherWidget.innerHTML = `\r\n    <!--<div class=\"mainWidget__icon\">⛅</div>-->\r\n    <div class=\"mainWidget__icon\">\r\n      <img src=\"${weather.condition.icon}\">\r\n    </div>\r\n    <h2 class=\"mainWidget__weather\">${weather.condition.text}</h2>\r\n    <small class=\"mainWidget__location\">${location.region + \", \" + location.country}</small>\r\n    <p class=\"mainWidget__temperature\">${weather.temp_c + \"°\"}</p>\r\n    <span class=\"mainWidget__details\">\r\n      <p>${weather.feelslike_c + \"°\"}</p>\r\n      <small>Sensible</small>\r\n    </span>\r\n    <span class=\"mainWidget__details\">\r\n      <p>${weather.precip_mm + \"mm\"}</p>\r\n      <small>Precipitation</small>\r\n    </span>\r\n    <span class=\"mainWidget__details\">\r\n      <p>${weather.humidity + \"%\"}</p>\r\n      <small>Humidity</small>\r\n    </span>\r\n    <span class=\"mainWidget__details\">\r\n      <p>${weather.wind_kph + \" km/h\"}</p>\r\n      <small>Wind</small>\r\n    </span>\r\n  `\r\n\r\n  weatherWidget.classList.toggle(\"mainWidget_loading\");\r\n  loader.classList.toggle(\"loader_loaded\");\r\n}\r\n\r\ngetWetherData();"],"names":["getBetterLocation","async","response","await","fetch","ok","location","json","lat","lon","getWetherData","document","querySelector","locationString","console","log","displayWeatherWidget","current","weather","weatherWidget","loader","innerHTML","condition","icon","text","region","country","temp_c","feelslike_c","precip_mm","humidity","wind_kph","classList","toggle"],"mappings":"AAAA,MAAMA,kBAAoBC,UACxB,IAAMC,EAAWC,MAAMC,MAAM,yBAAyB,EAEtD,GAAIF,EAASG,GAGX,OAFMC,EAAWH,MAAMD,EAASK,KAAK,GAErBC,IAAM,IAAMF,EAASG,GAEzC,EAEMC,cAAgBT,UACpB,IAOQM,EAPJI,SAASC,cAAc,aAAa,IAGlCC,EAAiBV,MAAMH,kBAAkB,GACzCE,EAAWC,MAAMC,yFAAyFS,UAAuB,GAE1HR,MACLE,EAAOJ,MAAMD,EAASK,KAAK,EACjCO,QAAQC,IAAIR,CAAI,EAChBS,qBAAqBT,EAAKU,QAASV,EAAKD,QAAQ,EAEpD,EAEMU,qBAAuB,CAACE,EAASZ,KACrC,IAAMa,EAAgBR,SAASC,cAAc,aAAa,EACpDQ,EAAST,SAASC,cAAc,SAAS,EAE/CO,EAAcE;;;kBAGEH,EAAQI,UAAUC;;sCAEEL,EAAQI,UAAUE;0CACdlB,EAASmB,OAAS,KAAOnB,EAASoB;yCACnCR,EAAQS,OAAS;;WAE/CT,EAAQU,YAAc;;;;WAItBV,EAAQW,UAAY;;;;WAIpBX,EAAQY,SAAW;;;;WAInBZ,EAAQa,SAAW;;;IAK5BZ,EAAca,UAAUC,OAAO,oBAAoB,EACnDb,EAAOY,UAAUC,OAAO,eAAe,CACzC,EAEAvB,cAAc"}